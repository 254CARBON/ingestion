name: "isone"
description: "ISO-NE connector for LMP, FCM, FTR, and generation outage datasets via web services"
version: "1.1.0"

# Connector configuration
config:
  api_key: "${ISONE_API_KEY}"
  # username: "${ISONE_USERNAME}"
  # password: "${ISONE_PASSWORD}"
  base_url: "${ISONE_BASE_URL:https://webservices.iso-ne.com/api}"
  api_timeout: 60
  retry_attempts: 3
  retry_delay_seconds: 15
  max_concurrent_requests: 2
  default_start_hours_back: 24

market: "ISO-NE"
mode: "batch"
schedule: "0 * * * *"
enabled: true
output_topic: "ingestion.isone.raw.v1"
schema: "../../../specs/events/market/ingestion.market.ticks.raw.v1.avsc"
retries: 3
backoff_seconds: 30
tenant_strategy: "single"
transforms:
  - name: sanitize_numeric

tags:
  - market-data
  - energy
  - isone
  - outages

# Supported data types
supported_data_types:
  - "lmp"
  - "rt_lmp"
  - "fcm"
  - "ftr"
  - "outages"

# Dataset-specific schedules
dataset_schedules:
  lmp: "0 * * * *"
  rt_lmp: "0 * * * *"
  fcm: "15 2 * * *"
  ftr: "30 3 * * *"
  outages: "0 */6 * * *"

# Output topics (normalized)
output_topics:
  lmp: "normalized.market.ticks.v1"
  rt_lmp: "normalized.market.ticks.v1"
  fcm: "normalized.market.ticks.v1"
  ftr: "normalized.market.ticks.v1"
  outages: "normalized.market.ticks.v1"

# Quality checks
quality_checks:
  - name: "record_count_check"
    enabled: true
    min_records: 1

  - name: "timestamp_check"
    enabled: true
    max_age_hours: 2

  - name: "price_range_check"
    enabled: true
    min_price: -500
    max_price: 10000
